2025-09-13 02:22:29 [INFO] users: Login attempts reset for user support@prolianceltd.com in tenant proliance
2025-09-13 02:22:46 [DEBUG] core: Tenant from user: proliance
2025-09-13 02:22:46 [DEBUG] core: Filtering queryset for tenant: proliance
2025-09-13 02:22:46 [DEBUG] core: Database search_path: proliance, public
2025-09-13 02:22:46 [INFO] core: Listing tenants: [3] for tenant proliance
2025-09-13 02:23:06 [INFO] core: Creating tenant: Arts | Schema: arts | Domain: qwertybrightcare.com
2025-09-13 02:23:06 [INFO] core: Saving tenant with schema_name: arts
2025-09-13 02:23:06 [WARNING] users: users_rsakeypair table does not exist in schema arts. Skipping RSA keypair creation.
2025-09-13 02:23:08 [INFO] core: Created modules for tenant 4
2025-09-13 02:23:12 [ERROR] core: Kafka publish failed: NoBrokersAvailable
2025-09-13 02:23:12 [INFO] core: Tenant created: Arts (schema: arts)
2025-09-13 02:28:05 [ERROR] users: Error creating admin user: users.models.CustomUserManager.create_user() got multiple values for keyword argument 'tenant'
2025-09-13 02:28:05 [ERROR] django.request: Internal Server Error: /api/user/users/admin/create/
2025-09-13 02:43:17 [WARNING] django.request: Forbidden: /api/user/users/admin/create/
2025-09-13 02:43:21 [INFO] users: Login attempts reset for user support@prolianceltd.com in tenant proliance
2025-09-13 02:43:34 [ERROR] users: Error creating admin user: users.models.CustomUserManager.create_user() got multiple values for keyword argument 'email'
2025-09-13 02:43:34 [ERROR] django.request: Internal Server Error: /api/user/users/admin/create/
2025-09-13 02:43:42 [ERROR] users: Error creating admin user: users.models.CustomUserManager.create_user() got multiple values for keyword argument 'email'
2025-09-13 02:43:42 [ERROR] django.request: Internal Server Error: /api/user/users/admin/create/
2025-09-13 02:47:43 [INFO] users: Admin user created: david.dappa@qwertybrightcare.com for tenant arts
2025-09-13 02:48:16 [INFO] users: Login attempts reset for user david.dappa@qwertybrightcare.com in tenant arts
2025-09-13 02:48:16 [ERROR] django.request: Internal Server Error: /api/token/
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/django/views/generic/base.py", line 105, in view
    return self.dispatch(request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 515, in dispatch
    response = self.handle_exception(exc)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 475, in handle_exception
    self.raise_uncaught_exception(exc)
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 486, in raise_uncaught_exception
    raise exc
  File "/usr/local/lib/python3.11/site-packages/rest_framework/views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework_simplejwt/views.py", line 46, in post
    serializer.is_valid(raise_exception=True)
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 225, in is_valid
    self._validated_data = self.run_validation(self.initial_data)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/rest_framework/serializers.py", line 447, in run_validation
    value = self.validate(value)
            ^^^^^^^^^^^^^^^^^^^^
  File "/app/auth_service/views.py", line 710, in validate
    access_token = issue_rsa_jwt(access_payload, user.tenant)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/auth_service/utils/jwt_rsa.py", line 46, in issue_rsa_jwt
    raise RuntimeError("No active RSA keypair available for tenant")
RuntimeError: No active RSA keypair available for tenant
2025-09-13 03:01:58 [INFO] users: Login attempts reset for user support@prolianceltd.com in tenant proliance
2025-09-13 03:03:05 [INFO] users: RSAKeyPair created for tenant: arts, kid: 4fc09f4515cd4eb6b7b1190292d61bb0
2025-09-13 03:03:14 [INFO] users: Login attempts reset for user david.dappa@qwertybrightcare.com in tenant arts
2025-09-13 03:03:30 [WARNING] django.request: Forbidden: /api/tenant/tenants/
2025-09-13 03:03:36 [DEBUG] core: Tenant from user: proliance
2025-09-13 03:03:36 [DEBUG] core: Filtering queryset for tenant: proliance
2025-09-13 03:03:36 [DEBUG] core: Database search_path: proliance, public
2025-09-13 03:03:36 [INFO] core: Listing tenants: [3] for tenant proliance
2025-09-13 03:07:20 [DEBUG] users: Returning all tenants for list action
2025-09-13 03:07:20 [INFO] users: Listing all tenants: [1, 2, 3, 4]
2025-09-13 03:10:59 [INFO] users: RSAKeyPair created for tenant: arts, kid: ae2dc7624c1942479bf4ac7ef5307c92
2025-09-13 03:11:14 [DEBUG] core: Returning all tenants for list action
2025-09-13 03:11:14 [INFO] core: Listing all tenants: [1, 2, 3, 4]
2025-09-13 03:12:09 [DEBUG] core: Returning all tenants for list action
2025-09-13 03:12:09 [INFO] core: Listing all tenants: [1, 2, 3, 4]
2025-09-13 03:13:35 [DEBUG] core: Returning all tenants for list action
2025-09-13 03:13:35 [INFO] core: Listing all tenants: [1, 2, 3, 4]
2025-09-13 03:18:47 [WARNING] django.request: Forbidden: /api/tenant/tenants/
2025-09-13 03:18:50 [INFO] users: Login attempts reset for user support@prolianceltd.com in tenant proliance
2025-09-13 03:19:05 [DEBUG] core: Returning all tenants for list action
2025-09-13 03:19:05 [INFO] core: Listing paginated tenants: [1, 2, 3, 4]
